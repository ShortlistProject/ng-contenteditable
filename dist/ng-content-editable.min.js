!function(){"use strict";angular.module("content-editable",[]).directive("contenteditable",["$timeout",function(e){return{restrict:"A",require:["^?ngModel","^?form"],link:function(n,r,t,l){function a(e){return e=e.replace(/&nbsp;/g,"Â "),g.convertNewLines&&(e=e.replace(/<br(\s*)\/*>/gi,"\r\n"),e=e.replace(/<[div>]+>/gi,"\r\n"),e=e.replace(/<\/[div>]+>/gm,""),e=e.replace(/\r\n$/,"")),g.onlyText&&(e=e.replace(/<\S[^><]*>/g,"")),g.noLineBreaks&&(e=e.replace(/<div>/g,"").replace(/<br>/g,"").replace(/<\/div>/g,"").replace(/<p>/g,"").replace(/<\/p>/g,"")),e}var i,o,c,u=function(){var e=t.ngModel?t.ngModel.split("."):l[0];return e[e.length-1]}();i=l[0],l[1];var g={};angular.forEach(["onlyText","convertNewLines","noLineBreaks"],function(e){var n=t[e];g[e]=n&&"false"!==n}),e(function(){return r.html(i.$modelValue)}),o=function(){var e;e=r.html(),e=a(e),i.$setViewValue(e),c(e)},c=function(e){var n=e.length;return n>t.ngMaxlength||n<t.ngMinlength?(i.$setValidity(u,!1),r.addClass("-error")):r.hasClass("-error")?(i.$setValidity(u,!0),r.removeClass("-error")):void 0},i.$render=function(){r.html(i.$viewValue||"")},r.bind("blur keyup change",function(){n.$apply(o)})}}}])}();